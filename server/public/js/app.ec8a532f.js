(function(e){function t(t){for(var n,a,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({detailartist:"detailartist","detailtrack~user":"detailtrack~user",detailtrack:"detailtrack",user:"user",loginpage:"loginpage",notFound:"notFound",recent:"recent",topitems:"topitems"}[e]||e)+"."+{detailartist:"8ddb5b84","detailtrack~user":"08e914bb",detailtrack:"71a3bdd5",user:"b22bd947",loginpage:"40169ccd",notFound:"b7012037",recent:"c52d5a82",topitems:"42f25e0e"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={loginpage:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({detailartist:"detailartist","detailtrack~user":"detailtrack~user",detailtrack:"detailtrack",user:"user",loginpage:"loginpage",notFound:"notFound",recent:"recent",topitems:"topitems"}[e]||e)+"."+{detailartist:"31d6cfe0","detailtrack~user":"31d6cfe0",detailtrack:"31d6cfe0",user:"31d6cfe0",loginpage:"ccfc5c63",notFound:"31d6cfe0",recent:"31d6cfe0",topitems:"31d6cfe0"}[e]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){u=p[o],l=u.getAttribute("data-href");if(l===n||l===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[e],f.parentNode.removeChild(f),r(i)},f.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var p=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}s[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var f=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"059c":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view",{key:e.$route.path})],1)},s=[],i={components:{}},o=i,c=(r("5c0b"),r("2877")),u=Object(c["a"])(o,a,s,!1,null,null,null),l=u.exports,p=r("bc3a"),f=r.n(p),m=r("a7fe"),d=r.n(m),h=(r("7db0"),r("45fc"),r("d3b7"),r("8c4f")),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("TheNavigation"),r("router-view",{key:e.$route.path})],1)},k=[],v=r("5530"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{attrs:{id:"nav"}},[r("router-link",{staticClass:"nav-link",attrs:{to:"/loginpage"},on:{click:e.logOut}},[r("b-icon-box-arrow-left"),r("br"),e._v(" Log out ")],1),r("router-link",{staticClass:"nav-link",attrs:{to:"/user"}},[r("b-icon-house"),r("br"),e._v(" Home ")],1),r("router-link",{staticClass:"nav-link",attrs:{to:{name:"TopItems",params:{slug:e.topViews[0]}}}},[r("b-icon-star"),r("br"),e._v(" Top Artists ")],1),r("router-link",{staticClass:"nav-link",attrs:{to:{name:"TopItems",params:{slug:e.topViews[1]}}}},[r("b-icon-music-note-beamed"),r("br"),e._v(" Top Tracks ")],1),r("router-link",{staticClass:"nav-link",attrs:{to:"/recent"}},[r("b-icon-clock-history"),r("br"),e._v(" Recent ")],1),r("a",{staticClass:"github",attrs:{href:"https://github.com/Caruychen/spotify-user-profile",target:"_blank"}},[r("svg",{attrs:{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("title",[e._v("GitHub icon")]),r("path",{attrs:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 \n        11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 \n        18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 \n        1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 \n        0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 \n        1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 \n        2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 \n        0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}})])])],1)},y=[],w={data:function(){return{topViews:["artists","tracks"]}},methods:{logOut:function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}}},x=w,R=Object(c["a"])(x,b,y,!1,null,null,null),C=R.exports,F=r("2f62"),T={name:"Home",components:{TheNavigation:C},methods:Object(v["a"])({},Object(F["d"])({setWindowWidth:"setWindowWidth"})),created:function(){window.addEventListener("resize",this.setWindowWidth)}},_=T,A=(r("e3e3"),Object(c["a"])(_,g,k,!1,null,"6adcac6f",null)),S=A.exports;n["default"].use(h["a"]);var O=[{path:"/",component:S,meta:{requiresAuth:!0},children:[{path:"/user",name:"User",component:function(){return Promise.all([r.e("detailtrack~user"),r.e("user")]).then(r.bind(null,"1511"))},meta:{requiresAuth:!0}},{path:"/top/:slug",name:"TopItems",props:!0,component:function(){return r.e("topitems").then(r.bind(null,"60e5"))},meta:{requiresAuth:!0},beforeEnter:function(e,t,r){var n=["artists","tracks"],a=n.find((function(t){return t===e.params.slug}));a?r():r({name:"NotFound"})}},{path:"/recent",name:"Recent",component:function(){return r.e("recent").then(r.bind(null,"7413"))},meta:{requiresAuth:!0}},{path:"/artist/:id",name:"artist",props:!0,component:function(){return r.e("detailartist").then(r.bind(null,"6b01"))},meta:{requiresAuth:!0}},{path:"/track/:id",name:"track",props:!0,component:function(){return Promise.all([r.e("detailtrack~user"),r.e("detailtrack")]).then(r.bind(null,"53a4"))},meta:{requiresAuth:!0}},{path:"",redirect:"/user"}]},{path:"/loginpage",name:"Login",component:function(){return r.e("loginpage").then(r.bind(null,"a55b"))}},{path:"/404",alias:"*",name:"NotFound",component:function(){return r.e("notFound").then(r.bind(null,"9703"))}}],P=new h["a"]({mode:"history",base:"/",routes:O});P.beforeEach((function(e,t,r){e.query.access_token&&(localStorage.setItem("access_token",e.query.access_token),localStorage.setItem("refresh_token",e.query.refresh_token),r({path:"/"})),e.matched.some((function(e){return e.meta.requiresAuth}))?localStorage.access_token?r():r({name:"Login"}):r()}));var j=P,D=(r("96cf"),r("1da1")),I=f.a.create({baseURL:"https://audio-viber.herokuapp.com/"}),E=f.a.create({baseURL:"https://api.spotify.com/v1/"});E.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("access_token"),E.interceptors.response.use((function(e){return e}),function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.response?t.response.status:null,n=t.config,400==r&&"invalid id"===t.response.data.error.message&&j.push({name:"NotFound"}),401!==r){e.next=10;break}return e.next=6,ne.dispatch("auth/tokenRefresh");case 6:if(a=e.sent,!a){e.next=10;break}return n.headers.Authorization="Bearer "+localStorage.getItem("access_token"),e.abrupt("return",E(n));case 10:if(404===r&&"NO_ACTIVE_DEVICE"!=t.response.data.error.reason&&j.push({name:"Login"}),503!==r){e.next=13;break}return e.abrupt("return",E(n));case 13:return e.abrupt("return",Promise.reject(t));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var M={namespaced:!0,state:{isRefreshing:!1,refreshingCall:null},mutations:{setRefreshing:function(e,t){e.isRefreshing=t},setRefreshingCall:function(e,t){e.refreshingCall=t}},actions:{tokenRefresh:function(e){var t=e.state,r=e.commit,n=e.dispatch;if(t.isRefreshing)return t.refreshingCall;r("setRefreshing",!0);var a=n("refreshCall");return r("setRefreshingCall",a),a},refreshCall:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,I.get("refresh_token",{params:{refresh_token:localStorage.refresh_token}});case 4:return n=e.sent,localStorage.access_token=n.data.access_token,E.defaults.headers.common["Authorization"]="Bearer "+n.data.access_token,r("setRefreshing",!1),r("setRefreshingCall",null),e.abrupt("return",Promise.resolve(!0));case 12:return e.prev=12,e.t0=e["catch"](1),400===e.t0.response.status&&j.push({name:"Login"}),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}()}},L={namespaced:!0,state:{user:null},mutations:{setUserProfile:function(e,t){e.user=t}},actions:{fetchUserProfile:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,E.get("me");case 3:n=e.sent,200===n.status&&r("setUserProfile",n.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},N={namespaced:!0,state:{playlists:null},getters:{playlistsTotal:function(e){return e.playlists.total}},mutations:{setPlaylists:function(e,t){e.playlists=t}},actions:{fetchPlaylists:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,E.get("me/playlists");case 3:n=e.sent,200===n.status&&r("setPlaylists",n.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},W=r("72bf"),q=r.n(W),z={namespaced:!0,state:{following:null},getters:{followingTotal:function(e){return e.following.total}},mutations:{setFollowing:function(e,t){e.following=t}},actions:{fetchFollowing:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("me/following?"+q.a.stringify({type:r}));case 3:a=e.sent,200===a.status&&n("setFollowing",a.data.artists);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}};r("d81d"),r("13d5"),r("fb6a"),r("a15b"),r("a434"),r("b0c0"),r("b680"),r("b64b"),r("ac1f"),r("25f0"),r("1276");function B(e){var t=e.images;return{name:e.name,external_url:e.external_urls.spotify,image:t.length>0?t:r("de8a"),type:e.type,id:e.id}}function V(e){var t=e.album.images;return{name:e.name,external_url:e.external_urls.spotify,artists:e.artists,image:t.length>0?t:r("de8a"),album:{name:e.album.name,spotifyUrl:e.album.external_urls.spotify},duration:e.duration_ms,type:e.type,id:e.id}}function U(e){var t=Object.keys(e.external_urls);return{name:e.name,external_url:e.external_urls[t[0]],image:e.images.length>0?e.images:r("de8a"),duration:e.duration_ms}}function H(e){var t=e.images;return{name:e.name,external_url:e.external_urls.spotify,image:t.length>0?t:r("de8a"),type:e.type,id:e.id}}function G(e,t,r){var n=e.length-1,a=Math.ceil(r/n),s=Math.floor(t/a),i=t<a?t:t%(s*a),o=a-i,c=[parseInt(e[s].substring(1,3),16)*o,parseInt(e[s].substring(3,5),16)*o,parseInt(e[s].substring(5),16)*o],u=[parseInt(e[s+1].substring(1,3),16)*i,parseInt(e[s+1].substring(3,5),16)*i,parseInt(e[s+1].substring(5),16)*i],l=c.map((function(e,t){return Math.round((e+u[t])/a).toString(16)}));return"#".concat(l.join(""))}function $(e,t){for(var r=[],n=0;n<t;n++)r.push(G(e,n,t));return r}function K(e,t){return e?(e=e.toString().split(" "),(!t||t>=e.length||t<0)&&(t=0),e.splice(t,1,e[t].charAt(0).toUpperCase()+e[t].slice(1)),e.join(" ")):""}function J(e){var t=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return t+":"+(r<10?"0":"")+r}var X={namespaced:!0,state:{artists:{long_term:{items:null,isFetching:!1,fetchCall:null},medium_term:{items:null,isFetching:!1,fetchCall:null},short_term:{items:null,isFetching:!1,fetchCall:null}},tracks:{long_term:{items:null,isFetching:!1,fetchCall:null},medium_term:{items:null,isFetching:!1,fetchCall:null},short_term:{items:null,isFetching:!1,fetchCall:null}}},getters:{getAllTopItems:function(e){return function(t,r){return e[t][r].items.map((function(e){return"artists"===t?B(e):V(e)}))}},getTopTen:function(e,t){return function(e,r){return t.getAllTopItems(e,r).slice(0,10)}},avgPopularity:function(e){return function(t,r){if(0===e[t][r].items.length)return"N/A";var n=e[t][r].items.map((function(e){return e.popularity})).reduce((function(e,t){return e+t}));return Math.round(n/e[t][r].items.length)}}},mutations:{setTopItems:function(e,t){e[t.type][t.timeRange].items=t.items},setFetching:function(e,t){e[t.type][t.timeRange].isFetching=t.status},setFetchingCall:function(e,t){e[t.type][t.timeRange].fetchCall=t.fetchCall}},actions:{fetchTopItems:function(e,t){var r=e.state,n=e.commit,a=e.dispatch,s=r[t.type][t.timeRange];if(s.isFetching)return s.fetchCall;n("setFetching",Object(v["a"])(Object(v["a"])({},t),{},{status:!0}));var i=a("topItemsCall",Object(v["a"])({},t));return n("setFetchingCall",Object(v["a"])(Object(v["a"])({},t),{},{fetchCall:i})),i},topItemsCall:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,a=t.commit,s=r.type,i=r.timeRange,o=n[s][i],o.items){e.next=12;break}return c=50,e.next=7,E.get("me/top/"+s+"?"+q.a.stringify({limit:c,time_range:i}));case 7:return u=e.sent,200===u.status&&a("setTopItems",{items:u.data.items,type:s,timeRange:i}),a("setFetching",{type:s,timeRange:i,status:!1}),a("setFetchingCall",{type:s,timeRange:i,fetchCall:null}),e.abrupt("return",Promise.resolve(!0));case 12:return e.abrupt("return",Promise.resolve(!0));case 13:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}},Y={namespaced:!0,state:{tracks:[]},getters:{getRecentList:function(e){return e.tracks.map((function(e){var t=e.track;return V(t)}))}},mutations:{setRecentItems:function(e,t){e.tracks=t}},actions:{fetchRecentItems:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,E.get("me/player/recently-played");case 3:n=e.sent,200===n.status&&r("setRecentItems",n.data.items);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},Q={namespaced:!0,state:{playback:{},source:f.a.CancelToken.source(),isFetchPaused:!1},getters:{currentDevicePlayback:function(e){if(!e.playback.item)return null;var t,r=e.playback.type;switch(r){case"track":t=V(e.playback.item);break;case"episode":t=U(e.playback.item);break;default:t=r}return{device:e.playback.device.name,item:t,progress:e.playback.progress}}},mutations:{setCurrentPlayback:function(e,t){e.playback=t},setNewProgress:function(e,t){e.playback.progress=t},cancelRequests:function(e){e.source.cancel()},resetCancelToken:function(e){e.source=f.a.CancelToken.source()},switchIsFetchPaused:function(e){e.isFetchPaused=!e.isFetchPaused},switchIsPlaying:function(e){e.playback.isPlaying=!e.playback.isPlaying}},actions:{fetchCurrentPlayback:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,e.prev=1,e.next=4,E.get("me/player",{cancelToken:n.source.token});case 4:a=e.sent,200===a.status&&(a.data?(s=a.data.currently_playing_type,r("setCurrentPlayback",{device:a.data.device,type:s,item:a.data.item,isPlaying:a.data.is_playing,progress:a.data.progress_ms})):r("setCurrentPlayback",{})),204==a.status&&r("setCurrentPlayback",{}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),f.a.isCancel(e.t0)&&r("resetCancelToken");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),seekPosition:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.rootState,e.prev=1,"premium"!==a.profile["user"].product){e.next=7;break}return n("cancelRequests"),n("setNewProgress",r),e.next=7,E.put("me/player/seek?"+q.a.stringify({position_ms:r}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),404!==e.t0.response.status&&403!==e.t0.response.status||n("setCurrentPlayback",{});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t,r){return e.apply(this,arguments)}return t}(),playController:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.dispatch,s=t.rootState,e.prev=1,"premium"!==s.profile["user"].product){e.next=13;break}if(n("cancelRequests"),"play"!==r&&"pause"!==r){e.next=10;break}return n("switchIsPlaying"),e.next=8,E.put("me/player/"+r);case 8:e.next=12;break;case 10:return e.next=12,E.post("me/player/"+r);case 12:a("fetchCurrentPlayback");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),404!==e.t0.response.status&&403!==e.t0.response.status||n("setCurrentPlayback",{});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));function t(t,r){return e.apply(this,arguments)}return t}()}},Z=(r("4160"),r("159b"),r("ddb0"),{namespaced:!0,state:{audioFeatures:{},featureList:[{name:"acousticness",description:"A confidence measure from 0.0 to 1.0 of whether the track is acoustic. 1.0 represents high confidence the track is acoustic."},{name:"danceability",description:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable."},{name:"energy",description:"Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy."},{name:"instrumentalness",description:"Predicts whether a track contains no vocals. “Ooh” and “aah” sounds are treated as instrumental in this context. Rap or spoken word tracks are clearly “vocal”. The closer the instrumentalness value is to 1.0, the greater likelihood the track contains no vocal content. Values above 0.5 are intended to represent instrumental tracks, but confidence is higher as the value approaches 1.0."},{name:"liveness",description:"Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. A value above 0.8 provides strong likelihood that the track is live."},{name:"speechiness",description:"Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry), the closer to 1.0 the attribute value. Values above 0.66 describe tracks that are probably made entirely of spoken words. Values between 0.33 and 0.66 describe tracks that may contain both music and speech, either in sections or layered, including such cases as rap music. Values below 0.33 most likely represent music and other non-speech-like tracks."},{name:"valence",description:"A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry)."}],keyMap:{0:"C",1:"C#/D♭",2:"D",3:"D#/E♭",4:"E",5:"F",6:"F#/G♭",7:"G",8:"G#/A♭",9:"A",10:"A#/B♭",11:"B"}},getters:{trackIDs:function(e,t,r){return function(e){return r.top.tracks[e].items.map((function(e){return e.id?e.id:null}))}},featureDist:function(e){return function(t,r,n){if(0===e.audioFeatures[t].length)return null;var a=1,s=a/r,i=[];if(e.audioFeatures[t].forEach((function(e){var t=Math.floor(e[n]/s),r=t-i.length;if(r<0)i[t]++;else{while(r>0)i.push(0),r--;i.push(1)}})),r>i.length)for(var o=0;o<r-i.length;o++)i.push(0);return[{values:i,text:n}]}},valueCount:function(e){return function(t,r){if(0===e.audioFeatures[r].length)return null;var n=[];return e.audioFeatures[r].forEach((function(r){var a=r[t],s=a-n.length;if(s<0)n[a].values[0]++;else{while(s>0)n.push({values:[0],text:e.keyMap[n.length]}),s--;n.push({values:[1],text:e.keyMap[a]})}})),n}}},mutations:{setAudioFeatures:function(e,t){e.audioFeatures[t.timeRange]=t.features}},actions:{fetchAudioFeatures:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.getters,a=t.commit,s=t.dispatch,i=t.rootState,i.top.tracks[r].items){e.next=4;break}return e.next=4,s("top/fetchTopItems",{type:"tracks",timeRange:r},{root:!0});case 4:return e.next=6,E.get("audio-features/?"+q.a.stringify({ids:n.trackIDs(r)},{arrayFormat:"comma"}));case 6:o=e.sent,200===o.status&&a("setAudioFeatures",{timeRange:r,features:o.data.audio_features});case 8:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}}),ee={namespaced:!0,state:{pieData:{type:"ring",backgroundColor:"none",width:"100%",plotarea:{margin:"dynamic"},scaleR:{refAngle:270}},histogramData:{type:"bar",backgroundColor:"none",tooltip:{text:"%v track(s)\n%k"}},radarData:{type:"radar",backgroundColor:"none",plot:{aspect:"area"},plotarea:{adjustLayout:!0},tooltip:{decimals:2,text:"%k: %v"}},pieColorRange:["#6771E3","#DD50A3","#DDD150","#50DD8A"],histogramColorRange:["#6771E3","#DD50A3"],titleHeight:{pie:0,histogram:0}},getters:{chartScale:function(e,t,r){return r.windowWidth<380?.6:r.windowWidth<800?.7:1},fontScale:function(e,t){return 1===t.chartScale?t.chartScale:1.25*t.chartScale},offsetHeight:function(e,t){return function(r){var n=480;return n*t.chartScale-e.titleHeight[r]}},radarItemScale:function(e,t){return 1===t.chartScale?t.chartScale:.6*t.chartScale},pieConfig:function(e,t,r,n){return function(r){var a=n["features/valueCount"]("key",r),s=a?a.map((function(t,r,n){var a=G(e.pieColorRange,r,n.length);return Object(v["a"])(Object(v["a"])({},t),{},{backgroundColor:a})})):null,i=12,o=80,c=16,u=t.offsetHeight("pie")/2;return{graphset:[Object(v["a"])(Object(v["a"])({},e.pieData),{},{plot:{valueBox:{text:"%t\n%npv%",fontSize:i*t.fontScale,decimals:0,placement:"out",rules:[{rule:"%v <= 0",text:""}]},slice:o*t.chartScale,borderWidth:"0px",animation:{effect:"ANIMATION_EXPAND_VERTICAL",method:"ANIMATION_REGULAR_EASE_OUT",sequence:"ANIMATION_BY_PLOT",speed:50}},tooltip:{text:'<span style="color:%color">%t:</span><br><span style="color:%color">%v tracks</span>',fontSize:c*t.fontScale,backgroundColor:"none",borderColor:"none",anchor:"c",x:"50%",y:u,sticky:!0},noData:{text:"No track data to show yet!",fontSize:c*t.fontScale,border:"1px solid #48ada3",borderRadius:"5px",fontColor:"#E7DFDD",alpha:.5},series:s})]}}},histConfig:function(e,t,r,n){return function(r,a,s){(!a||a<=0)&&(a=1);for(var i=[],o=0;o<a;o++)i.push(o/a);var c=12,u=38;return{graphset:[Object(v["a"])(Object(v["a"])({},e.histogramData),{},{plot:{aspect:"histogram",styles:$(e.histogramColorRange,a)},plotarea:{marginTop:"dynamic",marginBottom:"dynamic",marginLeft:u-(1-t.fontScale)*c,marginRight:"10"},scaleX:{values:i,lineColor:"none",tick:{alpha:.5},item:{fontSize:c*t.fontScale}},scaleY:{label:{text:"Tracks",color:"#48ada3",alpha:.8,fontSize:c*t.fontScale},item:{fontSize:c*t.fontScale},guide:{alpha:.1,lineStyle:"dashed"},lineColor:"none",tick:{visible:!1}},noData:{text:"No track data to show yet!",fontSize:c*t.fontScale,border:"1px solid #48ada3",borderRadius:"5px",fontColor:"#E7DFDD",alpha:.5},series:n["features/featureDist"](r,a,s)})]}}},radarConfig:function(e,t,r,n){var a=12;return{graphset:[Object(v["a"])(Object(v["a"])({},e.radarData),{},{scaleK:{values:r.features["featureList"].map((function(e){return K(e.name)})),item:{fontColor:"#E7DFDD",fontSize:a*t.fontScale,borderColor:"#9c9795",backgroundColor:"#302d3b",borderWidth:1,padding:"5 10",borderRadius:10,maxWidth:120*t.radarItemScale,wrapText:!0},tick:{lineColor:"#9c9795",lineStyle:"dotted",lineWidth:2,size:15},guide:{lineColor:"#9c9795",lineWidth:1,lineStyle:"solid",backgroundColor:"transparent"}},scaleV:{values:"0:1:0.25",item:{visible:!0,fontSize:a*t.fontScale},guide:{lineColor:"#4a465c",lineStyle:"solid",backgroundColor:"transparent"}},series:[{values:n["track/getFeatureValues"],lineColor:"#6771E3",backgroundColor:"#6771E3",marker:{backgroundColor:"#6771E3",borderColor:"#E7DFDD",size:3}}]})]}}},mutations:{setTitleHeight:function(e,t){e.titleHeight[t.type]=t.height}}},te=(r("3ca3"),{namespaced:!0,state:{artist:{},albums:{},topTracks:{},relatedArtists:{}},getters:{getArtistFromTopState:function(e,t,r){return function(e){for(var t=Object.keys(r.top["artists"]),n=0,a=t;n<a.length;n++){var s=a[n],i=r.top["artists"][s].items;if(i){var o=i.find((function(t){return t.id===e}));if(o)return o}}return!1}},topTracks:function(e){return function(t){return e.topTracks.tracks.map((function(e){return V(e)})).slice(0,t)}},relatedArtists:function(e){return function(t){return e.relatedArtists.artists.map((function(e){return B(e)})).slice(0,t)}},albums:function(e){return e.albums.items.map((function(e){return H(e)}))}},mutations:{setArtist:function(e,t){e.artist=t},setArtistSubData:function(e,t){e[t.category]=t.data}},actions:{loadArtist:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,i,o,c,u,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.getters,s=t.commit,i=t.dispatch,o=Promise.resolve(!0),n.artist&&n.artist.id==r||(c=a.getArtistFromTopState(r),o=c?s("setArtist",c):i("fetchArtist",r)),u=i("fetchAlbums",r),l=i("fetchTopTracks",r),p=i("fetchRelatedArtists",r),e.next=8,Promise.all([o,u,l,p]);case 8:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchArtist:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("artists/".concat(r));case 3:return a=e.sent,200===a.status&&n("setArtist",a.data),e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchAlbums:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("artists/".concat(r,"/albums"));case 3:return a=e.sent,200===a.status&&n("setArtistSubData",{data:a.data,category:"albums"}),e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTopTracks:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("artists/"+r+"/top-tracks?"+q.a.stringify({country:"from_token"}));case 3:return a=e.sent,200===a.status&&n("setArtistSubData",{data:a.data,category:"topTracks"}),e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchRelatedArtists:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("artists/".concat(r,"/related-artists"));case 3:return a=e.sent,200===a.status&&n("setArtistSubData",{data:a.data,category:"relatedArtists"}),e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}}),re={namespaced:!0,state:{track:{},trackFeatures:{}},getters:{getTrackFromRootTop:function(e,t,r){return function(e){for(var t=Object.keys(r.top["tracks"]),n=0,a=t;n<a.length;n++){var s=a[n],i=r.top["tracks"][s].items;if(i){var o=i.find((function(t){return t.id===e}));if(o)return o}}return!1}},getTrackFromRootRecent:function(e,t,r){return function(e){if(!r.recent.tracks)return!1;var t=r.recent.tracks.find((function(t){return t.track.id===e}));return!!t&&t.track}},getTrackFromRootArtist:function(e,t,r){return function(e){if(!r.artist.topTracks.tracks)return!1;var t=r.artist.topTracks.tracks.find((function(t){return t.id===e}));return t||!1}},getTrackFromRootPlayer:function(e,t,r){return function(e){var t=r.player.playback;return!(!t.item||t.item.id!=e)&&r.player.playback.item}},getTrackFeaturesFromRoot:function(e,t,r){return function(e){for(var t=Object.keys(r.features["audioFeatures"]),n=0,a=t;n<a.length;n++){var s=a[n],i=r.features["audioFeatures"][s];if(i){var o=i.find((function(t){return t.id===e}));if(o)return o}}return!1}},getFeatureValues:function(e,t,r){var n=r.features["featureList"].map((function(t){return e.trackFeatures[t.name]}));return n},getFeaturesGrid:function(e,t,r){return[{name:"Duration",value:J(e.trackFeatures.duration_ms)},{name:"Key",value:r.features["keyMap"][e.trackFeatures.key]},{name:"Mode",value:0===e.trackFeatures.mode?"Minor":"Major"},{name:"Time signature",value:e.trackFeatures.time_signature},{name:"Tempo (BPM)",value:e.trackFeatures.tempo.toFixed(2)},{name:"Loudness (dB)",value:e.trackFeatures.loudness.toFixed(2)}]}},mutations:{setTrack:function(e,t){e.track=t},setTrackFeatures:function(e,t){e.trackFeatures=t}},actions:{loadTrack:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,s,i,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.getters,s=t.commit,i=t.dispatch,o=Promise.resolve(!0),c=Promise.resolve(!0),n.track&&n.track.id==r||(u=a.getTrackFromRootPlayer(r)||a.getTrackFromRootRecent(r)||a.getTrackFromRootArtist(r)||a.getTrackFromRootTop(r),o=u?s("setTrack",u):i("fetchTrack",r),l=a.getTrackFeaturesFromRoot(r),c=l?s("setTrackFeatures",l):i("fetchTrackFeatures",r)),e.next=6,Promise.all([o,c]);case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTrack:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("tracks/".concat(r));case 3:return a=e.sent,200===a.status&&n("setTrack",a.data),e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchTrackFeatures:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,E.get("audio-features/".concat(r));case 3:return a=e.sent,200===a.status&&n("setTrackFeatures",a.data),e.abrupt("return",Promise.resolve(!0));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}};n["default"].use(F["a"]);var ne=new F["a"].Store({state:{windowWidth:window.innerWidth},mutations:{setWindowWidth:function(e){e.windowWidth=window.innerWidth}},actions:{},modules:{profile:L,auth:M,playlists:N,follow:z,top:X,recent:Y,player:Q,features:Z,chartconfigs:ee,artist:te,track:re}}),ae=r("5f5b"),se=r("b1e0");r("f9e3"),r("2dd8"),r("a058"),r("4de4");n["default"].filter("capitalize",(function(e,t){return e?(e=e.toString().split(" "),(!t||t>=e.length||t<0)&&(t=0),e.splice(t,1,e[t].charAt(0).toUpperCase()+e[t].slice(1)),e.join(" ")):""})),n["default"].filter("insertComma",(function(e,t,r){return e?(e=e.toString(),t===r-1?"":", "):""})),n["default"].filter("msToMinutes",(function(e){var t=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return t+":"+(r<10?"0":"")+r})),n["default"].use(d.a,f.a),n["default"].use(ae["a"]),n["default"].use(se["a"]),n["default"].config.productionTip=!1,new n["default"]({router:j,store:ne,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"9c0c":function(e,t,r){},a058:function(e,t,r){},de8a:function(e,t,r){e.exports=r.p+"img/person.9ede6360.svg"},e3e3:function(e,t,r){"use strict";var n=r("059c"),a=r.n(n);a.a}});
//# sourceMappingURL=app.ec8a532f.js.map