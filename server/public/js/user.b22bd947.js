(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",{staticClass:"loading-container"},[n("b-spinner",{attrs:{label:"Spinning"}})],1):n("div",{attrs:{id:"user"}},[n("b-img",{attrs:{src:t.user.images.length>0?t.user.images[0].url:r("de8a"),fluid:"",rounded:"",alt:"Profile",id:"user-profile-image"}}),n("b-jumbotron",{attrs:{header:t.user.display_name,"header-level":"4"},scopedSlots:t._u([{key:"lead",fn:function(){return[n("b-row",[n("b-col",{attrs:{tag:"span"}},[n("b",[t._v(t._s(t.playlistsTotal))]),n("br"),t._v("playlists ")]),n("b-col",{attrs:{tag:"span"}},[n("b",[t._v(t._s(t.followingTotal))]),n("br"),t._v(" following ")]),n("b-col",{attrs:{tag:"span"}},[n("b",[t._v(t._s(t.user.followers.total))]),n("br"),t._v(" followers ")])],1)]},proxy:!0}])}),n("UserPlayer"),n("UserDashboard")],1)},a=[],i=(r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),r("1da1")),s=r("5530"),o=r("2f62"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.nowPlaying?r("div",{attrs:{id:"current-playback"}},[r("b-card",{attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{attrs:{md:"3"}},[r("router-link",{staticClass:"track-link",attrs:{to:{name:t.nowPlaying.item.type,params:{id:t.nowPlaying.item.id}}}},[r("b-card-img",{attrs:{src:t.nowPlaying.item.image[0].url,alt:t.nowPlaying.item.name}}),r("b-icon-info-square-fill")],1)],1),r("b-col",{attrs:{md:"9"}},[r("b-card-body",{staticClass:"card-img-overlay"},[r("b-card-title",[t._v(t._s(t.nowPlaying.item.name))]),r("b-card-text",[t._l(t.nowPlaying.item.artists,(function(e,n){return r("span",{key:n},[r("a",{attrs:{href:e.external_urls.spotify,target:"_blank"}},[t._v(t._s(e.name))]),t._v(t._s(t._f("insertComma")(e.name,n,t.nowPlaying.item.artists.length))+" ")])})),r("span",{staticClass:"device-text"},[t._v(t._s(t.nowPlaying.device))])],2)],1)],1)],1)],1),r("UserPlayerSlider"),r("UserPlayerController")],1):r("div",[r("b-button",{attrs:{href:t.openSpotify,variant:"spotify-button",target:"_blank"}},[t._v(" Start listening on Spotify ")])],1)},c=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"slider-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.progress,expression:"progress"}],staticClass:"slider-range",style:t.progressStyle,attrs:{type:"range",min:"0",max:t.nowPlaying.item.duration},domProps:{value:t.progress},on:{mousedown:t.switchIsFetchPaused,mouseup:function(e){t.seekPosition(t.currentProgress),t.switchIsFetchPaused()},mouseover:function(e){t.fillColor="#48ada3"},mouseout:function(e){t.fillColor="#9c9795"},__r:function(e){t.progress=e.target.value}}}),r("p",[t._v(t._s(t._f("msToMinutes")(t.progress)))]),r("p",[t._v(" - "+t._s(t._f("msToMinutes")(t.nowPlaying.item.duration-t.progress))+" ")])])},p=[],d=(r("99af"),{data:function(){return{currentProgress:0,fillColor:"#9c9795"}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(o["e"])("player",{isFetchPaused:function(t){return t.isFetchPaused}})),Object(o["c"])("player",{nowPlaying:"currentDevicePlayback"})),{},{fillPercentage:function(){return this.progress/this.nowPlaying.item.duration*100},progress:{get:function(){return!1===this.isFetchPaused?this.nowPlaying.progress:this.currentProgress},set:function(t){this.currentProgress=t}},progressStyle:function(){return"background:linear-gradient(to right, ".concat(this.fillColor," 0 ").concat(this.fillPercentage,"%, #302d3b ").concat(this.fillPercentage,"% 100%)")}}),methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])("player",{seekPosition:"seekPosition"})),Object(o["d"])("player",{switchIsFetchPaused:"switchIsFetchPaused"}))}),f=d,m=r("2877"),h=Object(m["a"])(f,u,p,!1,null,null,null),g=h.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isPremium?r("b-row",{staticClass:"player-controller",attrs:{"align-h":"center"}},[r("b-col",{attrs:{cols:"3",lg:"1"}},[r("b-icon-skip-start-fill",{on:{click:function(e){return t.playController("previous")}}})],1),r("b-col",{staticClass:"pause-play",attrs:{cols:"3",lg:"1"}},[t.isPlaying?r("b-icon-pause-fill",{on:{click:function(e){return t.playController("pause")}}}):r("b-icon-play-fill",{on:{click:function(e){return t.playController("play")}}})],1),r("b-col",{attrs:{cols:"3",lg:"1"}},[r("b-icon-skip-end-fill",{on:{click:function(e){return t.playController("next")}}})],1)],1):t._e()},y=[],v={computed:Object(s["a"])(Object(s["a"])({},Object(o["e"])("player",{isPlaying:function(t){return t.playback.isPlaying}})),Object(o["e"])("profile",{isPremium:function(t){return"premium"===t.user.product}})),methods:Object(s["a"])({},Object(o["b"])("player",{playController:"playController"}))},_=v,w=Object(m["a"])(_,b,y,!1,null,null,null),P=w.exports,k={data:function(){return{timer:null}},components:{UserPlayerSlider:g,UserPlayerController:P},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(o["e"])("profile",{openSpotify:function(t){return t.user.external_urls.spotify}})),Object(o["e"])("player",{isFetchPaused:function(t){return t.isFetchPaused}})),Object(o["c"])("player",{nowPlaying:"currentDevicePlayback"})),methods:Object(s["a"])({},Object(o["b"])("player",{fetchPlayback:"fetchCurrentPlayback",seekPosition:"seekPosition"})),created:function(){var t=this;Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fetchPlayback();case 1:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.timer=setInterval(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isFetchPaused||t.fetchPlayback();case 1:case"end":return e.stop()}}),e)}))),1e3)},destroyed:function(){clearInterval(this.timer)}},j=k,O=Object(m["a"])(j,l,c,!1,null,null,null),T=O.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"dashboard"}},[r("h2",[t._v("Your Top 50 Artists and Tracks")]),r("BaseTimeRangeSelector",{attrs:{version:"button"},on:{updateTimeRange:t.onTimeRangeUpdate}}),r("hr"),t.loading?r("b-spinner",{attrs:{label:"Spinning"}}):r("div",{staticClass:"dashboard-container"},[r("div",{staticClass:"grid-container"},[r("div",{staticClass:"item-header-1"},[r("b-button",{attrs:{id:"popularity-popover-target",variant:"custom-split-outline"}},[r("b-icon-info-square-fill",{attrs:{"font-scale":"0.75"}}),t._v(" Average popularity ")],1)],1),r("b-popover",{attrs:{target:"popularity-popover-target",triggers:"hover focus",placement:"bottom"}},[t._v(" "+t._s(t.popularityDescription)+" ")]),r("div",{staticClass:"item-main"},[r("b",[t._v(t._s(t.avgPopularity("tracks",t.timeRange))+"%")]),r("p",[t._v("Average track popularity")])]),r("div",{staticClass:"item-main"},[r("b",[t._v(t._s(t.avgPopularity("artists",t.timeRange))+"%")]),r("p",[t._v("Average artist popularity")])])],1),r("KeysPie",{attrs:{timeRange:t.timeRange}}),r("FeatureHistogram",{attrs:{timeRange:t.timeRange}}),r("b-container",{attrs:{id:"top-ten-lists"}},[r("b-row",[r("UserTopTen",{attrs:{type:"artists",timeRange:t.timeRange}}),r("UserTopTen",{attrs:{type:"tracks",timeRange:t.timeRange}})],1)],1)],1)],1)},x=[],R=r("af78"),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"feature-histogram"},[r("b-dropdown",{ref:"histogram-title",attrs:{down:"",split:"","split-variant":"custom-split-outline",variant:"custom-split"},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("b-icon-info-square-fill",{attrs:{"font-scale":"0.75"}}),t._v(" "+t._s(t._f("capitalize")(t.selected.name))+" ")]},proxy:!0}])},t._l(t.featureList,(function(e){return r("b-dropdown-item",{key:e.name,on:{click:function(r){return t.chooseFeature(e)}}},[t._v(" "+t._s(e.name)+" ")])})),1),t.isElMounted?r("b-popover",{attrs:{target:t.popoverTarget,triggers:"hover focus",placement:"bottom"}},[t._v(" "+t._s(t.selected.description)+" ")]):t._e(),t.isElMounted?r("ZingchartVue",{attrs:{data:t.histConfig(t.timeRange,t.bins,t.selected.name),height:t.offsetHeight("histogram")}}):t._e()],1)},F=[],E=(r("78ae"),r("1567")),H=r.n(E),U={data:function(){return{selected:null,bins:20,isElMounted:!1}},props:{timeRange:String},components:{ZingchartVue:H.a},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(o["e"])("features",{featureList:function(t){return t.featureList}})),Object(o["c"])("chartconfigs",["histConfig","offsetHeight"])),{},{popoverTarget:function(){return this.$refs["histogram-title"].$el.children[0]}}),methods:Object(s["a"])(Object(s["a"])({},Object(o["d"])("chartconfigs",["setTitleHeight"])),{},{chooseFeature:function(t){this.selected=t}}),created:function(){this.chooseFeature(this.featureList[0])},mounted:function(){this.isElMounted=!0,this.setTitleHeight({type:"histogram",height:this.$refs["histogram-title"].$el.offsetHeight})}},$=U,W=Object(m["a"])($,S,F,!1,null,null,null),A=W.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ring-chart"},[r("b-button",{ref:"keys-title",attrs:{id:"keys-popover-target",variant:"custom-split-outline"}},[r("b-icon-info-square-fill",{attrs:{"font-scale":"0.75"}}),t._v(" Keys ")],1),r("b-popover",{attrs:{target:"keys-popover-target",triggers:"hover focus",placement:"bottom"}},[t._v(" "+t._s(t.keyDescription)+" ")]),t.isElMounted?r("ZingchartVue",{attrs:{data:t.pieConfig(t.timeRange),height:t.offsetHeight("pie")}}):t._e()],1)},M=[],I={data:function(){return{isElMounted:!1,keyDescription:"The key the track is in. Based on standard Pitch Class Notation, e.g. C, C♯/D♭, D and so on."}},props:{timeRange:String},components:{ZingchartVue:H.a},computed:Object(s["a"])({},Object(o["c"])("chartconfigs",["pieConfig","offsetHeight"])),methods:Object(s["a"])({},Object(o["d"])("chartconfigs",["setTitleHeight"])),mounted:function(){this.isElMounted=!0,this.setTitleHeight({type:"pie",height:this.$refs["keys-title"].offsetHeight})}},L=I,q=Object(m["a"])(L,D,M,!1,null,null,null),B=q.exports,z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-col",{staticClass:"top-ten-container",attrs:{md:"6"}},[r("b-container",{staticClass:"top-ten-heading"},[r("b-row",{attrs:{"align-v":"center","no-gutters":""}},[r("b-col",[r("h3",[t._v("Top 10 "+t._s(t._f("capitalize")(t.type)))])])],1)],1),r("ul",t._l(t.topTen(t.type,t.timeRange),(function(t,e){return r("li",{key:e},[r("BaseListCard",{attrs:{item:t}})],1)})),0)],1)},V=[],Z=r("8a25"),K={props:{type:String,timeRange:String},components:{BaseListCard:Z["a"]},computed:Object(s["a"])({},Object(o["c"])("top",{topTen:"getTopTen"}))},J=K,N=Object(m["a"])(J,z,V,!1,null,null,null),X=N.exports,Y={data:function(){return{loading:!1,timeRange:"long_term",popularityDescription:"The popularity of a track is a value between 0 and 100, with 100 being the most popular. The popularity is mostly based on the total number of plays the track has had and how recent those plays are. Songs that are being played a lot now will have a higher popularity than songs that were played in the past. Artist popularities are derived from track popularity by Spotify. The average popularities shown here are calculated as the mean average of your top 50 tracks/artists popularities."}},components:{BaseTimeRangeSelector:R["a"],FeatureHistogram:A,KeysPie:B,UserTopTen:X},computed:Object(s["a"])({},Object(o["c"])("top",{avgPopularity:"avgPopularity"})),watch:{timeRange:function(){this.loadListeningData()}},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])({fetchFeatures:"features/fetchAudioFeatures",fetchTopItems:"top/fetchTopItems"})),{},{loadTopItems:function(t){var e={type:t,timeRange:this.timeRange};this.fetchTopItems(e)},loadListeningData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,e=this.loadTopItems("artists"),r=this.loadTopItems("tracks"),t.next=5,Promise.all([e,r]);case 5:return t.next=7,this.fetchFeatures(this.timeRange);case 7:this.loading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onTimeRangeUpdate:function(t){this.timeRange=t}}),created:function(){this.loadListeningData()}},G=Y,Q=Object(m["a"])(G,C,x,!1,null,null,null),tt=Q.exports,et={data:function(){return{loading:!1}},components:{UserPlayer:T,UserDashboard:tt},computed:Object(s["a"])(Object(s["a"])({},Object(o["e"])("profile",{user:function(t){return t.user}})),Object(o["c"])({playlistsTotal:"playlists/playlistsTotal",followingTotal:"follow/followingTotal"})),methods:Object(s["a"])({},Object(o["b"])({fetchUserProfile:"profile/fetchUserProfile",fetchPlaylists:"playlists/fetchPlaylists",fetchFollowing:"follow/fetchFollowing"})),created:function(){var t=this;this.loading=!0,Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.fetchUserProfile(),n=t.fetchPlaylists(),a=t.fetchFollowing("artist"),e.next=5,Promise.all([r,n,a]);case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}},rt=et,nt=Object(m["a"])(rt,n,a,!1,null,null,null);e["default"]=nt.exports},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),i=r("9bdd"),s=r("e95a"),o=r("50c4"),l=r("8418"),c=r("35a1");t.exports=function(t){var e,r,u,p,d,f,m=a(t),h="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,y=void 0!==b,v=c(m),_=0;if(y&&(b=n(b,g>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(e=o(m.length),r=new h(e);e>_;_++)f=y?b(m[_],_):m[_],l(r,_,f);else for(p=v.call(m),d=p.next,r=new h;!(u=d.call(p)).done;_++)f=y?i(p,b,[u.value,_],!0):u.value,l(r,_,f);return r.length=_,r}},"8a25":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"overflow-hidden list-item-container",attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"detail-link",attrs:{cols:"auto"}},[r("router-link",{attrs:{to:{name:t.item.type,params:{id:t.item.id}}}},[r("b-card-img",{staticClass:"image-column rounded-0",attrs:{src:t.item.image[t.item.image.length-1].url,alt:t.item.name}}),r("b-icon-info-square-fill")],1)],1),r("b-col",[r("b-card-body",[r("b-card-title",{ref:"title",style:t.transitionStyle(t.title),on:{mouseenter:function(e){return t.mouseTrigger("title")},mouseleave:function(e){return t.mouseTrigger("title")}}},[r("span",[t._v(t._s(t.item.name))])]),t.isTrack?r("b-card-text",{ref:"text",style:t.transitionStyle(t.text),on:{mouseenter:function(e){return t.mouseTrigger("text")},mouseleave:function(e){return t.mouseTrigger("text")}}},[t._l(t.item.artists,(function(e,n){return r("span",{key:n},[r("a",{attrs:{href:e.external_urls.spotify,target:"_blank"}},[t._v(t._s(e.name))]),t._v(t._s(t._f("insertComma")(e.name,n,t.item.artists.length))+" ")])})),r("span",[t._v(" · "),r("a",{attrs:{href:t.item.album.spotifyUrl}},[t._v(t._s(t.item.album.name))])])],2):t._e()],1)],1),t.isTrack?r("b-col",{staticClass:"item-duration",attrs:{cols:"auto"}},[t._v(" "+t._s(t._f("msToMinutes")(t.item.duration))+" ")]):t._e()],1)],1)},a=[],i=(r("99af"),r("a630"),r("d81d"),r("13d5"),r("3ca3"),{data:function(){return{text:{containerWidth:null,contentWidth:null,isHover:!1},title:{containerWidth:null,contentWidth:null,isHover:!1}}},props:{item:Object},computed:{isTrack:function(){return"track"===this.item.type}},methods:{mouseTrigger:function(t){this[t].isHover=!this[t].isHover},reduceContentWidth:function(t){return Array.from(t).map((function(t){return t.offsetWidth})).reduce((function(t,e){return t+e}))},loadWidths:function(t){var e=this.$refs[t];this[t].containerWidth=e.offsetWidth,this[t].contentWidth=this.reduceContentWidth(e.children)},transitionStyle:function(t){var e=t.containerWidth,r=t.contentWidth,n=t.isHover,a=Math.min(0,e-r),i=-a/60;return n?"transform: translateX(".concat(a,"px); transition: ").concat(i,"s cubic-bezier(.14,.13,.47,1)"):"transition: ".concat(i/2,"s cubic-bezier(.14,.13,.47,1);")}},mounted:function(){this.isTrack&&(this.loadWidths("text"),this.loadWidths("title"))}}),s=i,o=r("2877"),l=Object(o["a"])(s,n,a,!1,null,null,null);e["a"]=l.exports},"99af":function(t,e,r){"use strict";var n=r("23e7"),a=r("d039"),i=r("e8b5"),s=r("861d"),o=r("7b0b"),l=r("50c4"),c=r("8418"),u=r("65f0"),p=r("1dde"),d=r("b622"),f=r("2d00"),m=d("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",b=f>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),y=p("concat"),v=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},_=!b||!y;n({target:"Array",proto:!0,forced:_},{concat:function(t){var e,r,n,a,i,s=o(this),p=u(s,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?s:arguments[e],v(i)){if(a=l(i.length),d+a>h)throw TypeError(g);for(r=0;r<a;r++,d++)r in i&&c(p,d,i[r])}else{if(d>=h)throw TypeError(g);c(p,d++,i)}return p.length=d,p}})},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),i=r("1c7e"),s=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:a})},af78:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return"button"===t.version?r("div",{staticClass:"time-range-buttons"},t._l(t.timeRanges,(function(e,n){return r("b-button",{key:n,attrs:{variant:"custom-button",pressed:e.text===t.selected},on:{click:function(r){return t.chooseTimeRange(e)}}},[t._v(t._s(e.text)+" ")])})),1):r("b-dropdown",{attrs:{variant:"custom-split",right:"",text:t.selected}},t._l(t.timeRanges,(function(e,n){return r("b-dropdown-item",{key:n,on:{click:function(r){return t.chooseTimeRange(e)}}},[t._v(t._s(e.text))])})),1)},a=[],i={data:function(){return{selected:"All Time",timeRanges:[{text:"All Time",query:"long_term"},{text:"Last 6 Months",query:"medium_term"},{text:"Last 4 Weeks",query:"short_term"}]}},props:{version:String},methods:{chooseTimeRange:function(t){this.selected=t.text,this.$emit("updateTimeRange",t.query)}}},s=i,o=r("2877"),l=Object(o["a"])(s,n,a,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=user.b22bd947.js.map